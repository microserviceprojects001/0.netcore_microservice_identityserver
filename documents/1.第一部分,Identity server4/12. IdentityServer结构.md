# identity server 结构

![alt text](<../0.课程截图/第一部分 Identity Server/17，第一部分，IdentityServer结构.png>)

# consent 实现思路

由于网上的视频老师.net 版本很低，且没有源码，进行了很多尝试并未成功，所以从官网下载现成的代码进行修改

官网位置：
https://github.com/DuendeSoftware/samples/tree/main/IdentityServer
本地位置：
C:\Code\DuendeSoftware_IdentitySamples

先从官网上下载 v5 的代码实例，(v7 的代码属于 razor 的框架我不想用)
C:\Code\netcore_microservice_5.0\MVC\2_InteractiveAspNetCore
能够 build 成功

然后尝试迁移代码到此工程下
C:\Code\netcore_microservice\MvcCookieAuthSample

## 模型绑定（Model Binding） 和 Tag Helpers（如 asp-for）共同实现的

```
<input class="form-check-input" asp-for="RememberConsent">
```

功能：asp-for 是 ASP.NET Core 的 Tag Helper，它会将 HTML 元素与模型的属性绑定。
转换结果：上述代码会被转换为：

```
<input class="form-check-input"
       type="checkbox"
       id="RememberConsent"
       name="RememberConsent"
       value="true">

```

关键点：

name 属性：与模型属性名一致，用于模型绑定。

value 属性：自动匹配模型属性的类型（如 bool 类型会生成 value="true"）
